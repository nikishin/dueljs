{"version":3,"file":"public/lib/duel.min.js","sources":["public/lib/duel.js"],"names":["root","factory","define","amd","exports","module","duel","this","window","useStorageEvent","test","navigator","userAgent","noWarnings","isLocalStorageAvailable","undefined","e","clone","obj","copy","Object","attr","hasOwnProperty","Error","DuelAbstractChannel","prototype","getName","_name","setCurrentWindowAsMaster","currentWindowIsMaster","broadcast","trigger","executeTrigger","name","args","Array","slice","call","arguments","emit","apply","getItem","varName","__storage","angular","fromJson","JSON","parse","setItem","value","toJson","stringify","removeItem","triggerDetails","force","_triggers","console","warn","on","callback","once","off","_generateWindowID","_windowID","Math","random","toString","split","getWindowID","DuelLocalStorageChannel","localStorage","i","len","ch","wIndex","wID","chName","length","master","id","push","channelName","DuelFakeChannel","error","activeChannels","channel","chID","makeCurrentWindowMaster","onfocus","isMaster","addEvent","document","addEventListener","el","type","fn","nodeName","attachEvent","event","hidden","storageEvent","key","eventDetails","newValue","storageOldTriggerValue","setInterval","j","splice"],"mappings":"CASC,SAAUA,EAAMC,GACf,YAEsB,mBAAXC,SAAyBA,OAAOC,IAEzCD,OAAO,WAEL,MAAOD,GAAQD,KAEW,gBAAZI,SAGhBC,OAAOD,QAAUH,EAAQD,GAGzBA,EAAKM,KAAOL,EAAQD,IAEtBO,KAAM,SAAUC,GAChB,GAAIF,KAkfJ,OAzeAA,GAAKG,iBAAmB,gBAAgBC,KAAKC,UAAUC,WAOvDN,EAAKO,YAAa,EAMlBP,EAAKQ,wBAA0B,WAC7B,IACE,MAAO,gBAAkBN,IAAqC,OAA3BA,EAAqB,cAAyCO,SAA3BP,EAAqB,aAC3F,MAAOQ,GACP,OAAO,IASXV,EAAKW,MAAQ,SAAUC,GACrB,GAAIC,EAEJ,IAAI,MAAQD,GAAO,gBAAmBA,GAAK,MAAOA,EAElD,IAAIA,YAAeE,QAAQ,CACzBD,IACA,KAAK,GAAIE,KAAQH,GACXA,EAAII,eAAeD,KAAOF,EAAKE,GAAQf,EAAKW,MAAMC,EAAIG,IAE5D,OAAOF,GAGT,KAAM,IAAII,OAAM,kDAMlBjB,EAAKkB,oBAAsB,WAIzB,GAAIA,GAAsB,YA4I1B,OAvIAA,GAAoBC,UAAUC,QAAU,WACtC,MAAOnB,MAAKoB,OAMdH,EAAoBC,UAAUG,yBAA2B,WACvD,OAAO,GAMTJ,EAAoBC,UAAUI,sBAAwB,WACpD,OAAO,GAOTL,EAAoBC,UAAUK,UAAY,SAAUC,GAC9CxB,KAAKsB,yBACPtB,KAAKyB,gBACHC,KAAMF,EACNG,KAAMC,MAAMV,UAAUW,MAAMC,KAAKC,UAAW,MASlDd,EAAoBC,UAAUc,KAAO,WACnChC,KAAKuB,UAAUU,MAAMjC,KAAM+B,YAQ7Bd,EAAoBC,UAAUgB,QAAU,SAAUC,GAEhD,MADAA,IAAW,oBAAsBnC,KAAKmB,UAC/BnB,KAAKoC,UAAgC,gBAAXC,SAAuBA,QAAQC,SAAStC,KAAKoC,UAAUF,QAAQC,IAAYI,KAAKC,MAAMxC,KAAKoC,UAAUF,QAAQC,IAAU,GAAS,MAQnKlB,EAAoBC,UAAUuB,QAAU,SAAUN,EAASO,GACrD1C,KAAKoC,YACPD,GAAW,oBAAsBnC,KAAKmB,UACtCnB,KAAKoC,UAAUK,QAAQN,EAA4B,gBAAXE,SAAuBA,QAAQM,OAAOD,GAASH,KAAKK,UAAUF,MAQ1GzB,EAAoBC,UAAU2B,WAAa,SAAUV,GAC/CnC,KAAKoC,YACPD,GAAW,oBAAsBnC,KAAKmB,UACtCnB,KAAKoC,UAAUS,WAAWV,KAS9BlB,EAAoBC,UAAUO,eAAiB,SAAUqB,EAAgBC,GAEvE,GADAA,EAAQA,IAAS,IACXD,YAA0BjC,SAC9B,KAAM,oCAER,KAAKb,KAAKsB,yBAA2ByB,EACnC,IACM/C,KAAKgD,UAAUF,EAAepB,eAAiBE,QACjD5B,KAAKgD,UAAUF,EAAepB,MAAM,GAAGO,MAAMjC,KAAM8C,EAAenB,YAC3D3B,MAAKgD,UAAUF,EAAepB,OAErC1B,KAAKgD,UAAUF,EAAepB,MAAMO,MAAMjC,KAAM8C,EAAenB,MAEjE,MAAOlB,GACFV,EAAKO,aACc,gBAAX+B,SACTY,QAAQC,KAAK,oHAAsHzC,GAEnIwC,QAAQC,KAAK,0BAA2BzC,MAWlDQ,EAAoBC,UAAUiC,GAAK,SAAU3B,EAAS4B,GAC/CpD,KAAKgD,YAKRhD,KAAKgD,cAGPhD,KAAKgD,UAAUxB,GAAW4B,GAO5BnC,EAAoBC,UAAUmC,KAAO,SAAU7B,EAAS4B,GACtDpD,KAAKmD,GAAG3B,GAAU4B,KAMpBnC,EAAoBC,UAAUoC,IAAM,SAAU9B,GAC5C,UACSxB,MAAKgD,UAAUxB,GACtB,MAAOf,MAGJQ,KAOTlB,EAAKwD,kBAAoB,WAEvB,MADAvD,MAAKwD,WAAaC,KAAKC,SAASC,WAAWC,MAAM,KAAK,GAC/C5D,KAAKwD,WAOdzD,EAAK8D,YAAc,WACjB,MAAO7D,MAAKwD,UAAYxD,KAAKwD,UAAYxD,KAAKuD,qBAOhDxD,EAAK+D,wBAA0B,SAAUpC,GAMvC1B,KAAKoB,MAAQM,EACb1B,KAAKoC,UAAYnC,EAAO8D,aACxB/D,KAAKqB,4BAMPtB,EAAK+D,wBAAwB5C,UAAYnB,EAAKW,MAAMX,EAAKkB,oBAAoBC,WAM7EnB,EAAK+D,wBAAwB5C,UAAUG,yBAA2B,WAChE,GAAI2C,GAAGC,EAAKC,EAAIC,EAAQC,EAAMrE,EAAK8D,cACjCQ,EAAS,kBAAoBrE,KAAKmB,SACpC,IAAI+C,EAAKlE,KAAKoC,UAAUF,QAAQmC,GAAS,CACvC,IAAKH,EAAK3B,KAAKC,MAAM0B,GAAKC,EAAS,GAAIH,EAAI,EAAGC,EAAMC,EAAGI,OAAYL,EAAJD,EAASA,IACtEE,EAAGF,GAAGO,QAAS,EACXL,EAAGF,GAAGQ,KAAOJ,IACfD,EAASH,EAGE,MAAXG,EACFD,EAAGO,MACDD,GAAIJ,EACJG,QAAQ,IAGVL,EAAGC,GAAQI,QAAS,EAEtBvE,KAAKoC,UAAUK,QAAQ4B,EAAQ9B,KAAKK,UAAUsB,QAE9ClE,MAAKoC,UAAUK,QAAQ4B,EAAQ9B,KAAKK,YAClC4B,GAAIJ,EACJG,QAAQ,KAGZ,QAAO,GAOTxE,EAAK+D,wBAAwB5C,UAAUI,sBAAwB,WAC7D,GAAI0C,GAAGC,EAAKC,EAAIC,EAAQC,EAAMrE,EAAK8D,cACjCQ,EAAS,kBAAoBrE,KAAKmB,SACpC,IAAI+C,EAAKlE,KAAKoC,UAAUF,QAAQmC,GAAS,CACvC,IAAKH,EAAK3B,KAAKC,MAAM0B,GAAKC,EAAS,GAAIH,EAAI,EAAGC,EAAMC,EAAGI,OAAYL,EAAJD,EAASA,IACtE,GAAIE,EAAGF,GAAGQ,KAAOJ,EAAK,CACpBD,EAASH,CACT,OAGJ,MAAmB,KAAXG,GAAiB,EAAQD,EAAGC,GAAQI,OAE5C,OAAO,GAOXxE,EAAK+D,wBAAwB5C,UAAUK,UAAY,SAAUC,GACvDxB,KAAKsB,0BAEPtB,KAAKoC,UAAUK,QAAQ,iBAAkBF,KAAKK,WAC5C8B,YAAa1E,KAAKmB,UAClB2B,gBACEpB,KAAMF,EACNG,KAAMC,MAAMV,UAAUW,MAAMC,KAAKC,UAAW,OAIhD/B,KAAKoC,UAAUK,QAAQ,4BAA6BgB,KAAKC,SAASC,WAAWC,MAAM,KAAK,MAQ5F7D,EAAK4E,gBAAkB,SAAUjD,GAM/B1B,KAAKoB,MAAQM,EACR3B,EAAKO,YACR2C,QAAQ2B,MAAM,2GAQlB7E,EAAK4E,gBAAgBzD,UAAYnB,EAAKW,MAAMX,EAAKkB,oBAAoBC,WAKrEnB,EAAK8E,kBAOL9E,EAAK+E,QAAU,SAAUpD,GACvB,IAAK,GAAIqD,KAAQhF,GAAK8E,eACpB,GAAI9E,EAAK8E,eAAe9D,eAAegE,IACrChF,EAAK8E,eAAeE,GAAM5D,WAAaO,EACvC,MAAO3B,GAAK8E,eAAeE,EAG/B,IAAID,GAAU9E,KAAKO,0BAA4B,GAAIP,MAAK8D,wBAAwBpC,GAAQ,GAAI1B,MAAK2E,gBAAgBjD,EAEjH,OADA3B,GAAK8E,eAAeJ,KAAKK,GAClBA,GAOT/E,EAAKiF,wBAA0B,WAC7B,IAAK,GAAIhB,GAAIjE,EAAK8E,eAAeP,OAAS,EAAGN,GAAK,EAAGA,IACnD,IACEjE,EAAK8E,eAAeb,GAAG3C,2BACvB,MAAOZ,MASbR,EAAOgF,QAAU,WACflF,EAAKiF,2BAOP/E,EAAOiF,SAAW,WAChB,MAAOnF,GAAK8E,eAAeP,OACzBvE,EAAK8E,eAAe,GAAGvD,yBAA0B,GAMrDvB,EAAKoF,SAAW,WACd,MAAIC,UAASC,iBACJ,SAAUC,EAAIC,EAAMC,GACzB,GAAIF,GAAMA,EAAGG,UAAYH,IAAOrF,EAC9BqF,EAAGD,iBAAiBE,EAAMC,GAAI,OACzB,IAAIF,GAAMA,EAAGhB,OAClB,IAAK,GAAIN,GAAI,EAAGA,EAAIsB,EAAGhB,OAAQN,IAC7BmB,SAASG,EAAGtB,GAAIuB,EAAMC,IAKrB,SAAUF,EAAIC,EAAMC,GACzB,GAAIF,GAAMA,EAAGG,UAAYH,IAAOrF,EAC9BqF,EAAGI,YAAY,KAAOH,EAAM,WAC1B,MAAOC,GAAG1D,KAAKwD,EAAIrF,EAAO0F,aAEvB,IAAIL,GAAMA,EAAGhB,OAClB,IAAK,GAAIN,GAAI,EAAGA,EAAIsB,EAAGhB,OAAQN,IAC7BmB,SAASG,EAAGtB,GAAIuB,EAAMC,OAUhCzF,EAAKoF,SAASlF,EAAQ,mBAAoB,WACnCmF,SAASQ,QACZ7F,EAAKiF,4BAOTjF,EAAK8F,aAAe,SAAUF,GAC5B,GAAiB,kBAAbA,EAAMG,IAKR,IAAK,GADDC,GAAexD,KAAKC,MAAMmD,EAAMK,UAC3BhC,EAAIjE,EAAK8E,eAAeP,OAAS,EAAGN,GAAK,EAAGA,IACnD,IACMjE,EAAK8E,eAAeb,GAAG7C,WAAa4E,EAAarB,aACnD3E,EAAK8E,eAAeb,GAAGvC,eAAesE,EAAajD,gBAErD,MAAOrC,MAUXV,EAAKQ,4BACPR,EAAKkG,uBAAyBhG,EAAO8D,aAAa7B,QAAQ,4BACtDnC,EAAKG,gBAKPH,EAAKoF,SAASlF,EAAQ,UAAW,SAAUQ,GACzC,GAAIkF,GAAQlF,GAAKkF,GAAS1F,EAAO0F,KAChB,6BAAbA,EAAMG,KAAqCH,EAAMK,UAAYjG,EAAKkG,yBACpElG,EAAKkG,uBAAyBhG,EAAO8D,aAAa7B,QAAQ,4BAC1DnC,EAAK8F,cACHC,IAAK,iBACLE,SAAU/F,EAAO8D,aAAa7B,QAAQ,uBAK5CgE,YAAY,WACNjG,EAAO8D,aAAa7B,QAAQ,6BAA+BnC,EAAKkG,yBAClElG,EAAKkG,uBAAyBhG,EAAO8D,aAAa7B,QAAQ,4BAC1DnC,EAAK8F,cACHC,IAAK,iBACLE,SAAU/F,EAAO8D,aAAa7B,QAAQ,sBAGzC,KAELnC,EAAKoF,SAASlF,EAAQ,SAAU,WAC9B,GACEiE,GAAID,EAAKD,EAAGmC,EAAG9B,EAAQF,EADrBC,EAAMrE,EAAK8D,aAEf,KAAKG,EAAIjE,EAAK8E,eAAeP,OAAS,EAAGN,GAAK,EAAGA,IAC/C,IAEE,GADAK,EAAS,kBAAoBtE,EAAK8E,eAAeb,GAAG7C,UAChD+C,EAAKjE,EAAO8D,aAAa7B,QAAQmC,GACnC,IAAKH,EAAK3B,KAAKC,MAAM0B,GAAKC,EAAS,GAAIgC,EAAI,EAAGlC,EAAMC,EAAGI,OAAYL,EAAJkC,EAASA,IACtE,GAAIjC,EAAGiC,GAAG3B,KAAOJ,EAAK,CAChBF,EAAGiC,GAAG5B,SACRL,EAAGiC,GAAG5B,QAAS,EACfL,EAAG,GAAGK,QAAS,GAEjBL,EAAGkC,OAAOD,EAAG,GACblG,EAAO8D,aAAatB,QAAQ4B,EAAQ9B,KAAKK,UAAUsB,GACnD,QAIN,MAAOzD,QAORV"}