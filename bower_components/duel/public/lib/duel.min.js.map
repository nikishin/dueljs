{"version":3,"sources":["public/lib/duel.js"],"names":["root","factory","define","amd","exports","module","duel","this","window","useStorageEvent","test","navigator","userAgent","isLocalStorageAvailable","undefined","e","clone","obj","copy","Object","attr","hasOwnProperty","Error","DuelAbstractChannel","prototype","getName","_name","setCurrentWindowAsMaster","currentWindowIsMaster","broadcast","trigger","executeTrigger","name","args","Array","slice","call","arguments","emit","triggerDetails","force","_triggers","apply","on","callback","once","off","_generateWindowID","_windowID","Math","random","toString","split","getWindowID","DuelLocalStorageChannel","i","len","ch","wIndex","wID","chName","localStorage","getItem","JSON","parse","length","master","id","push","setItem","stringify","channelName","DuelFakeChannel","console","error","activeChannels","channel","chID","makeCurrentWindowMaster","onfocus","isMaster","addEvent","document","addEventListener","el","type","fn","nodeName","attachEvent","event","hidden","storageEvent","key","eventDetails","newValue","storageOldTriggerValue","setInterval","j","splice"],"mappings":"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","file":"public/lib/duel.min.js"}